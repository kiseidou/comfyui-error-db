---
title: "【ComfyUI】CLIPTextEncode"
description: "ComfyUIのエラー 'CLIPTextEncode' の解決策まとめ。Python環境やカスタムノードの不具合を直す方法。"
pubDate: "2026-01-13"
---

## エラーの概要

この記事では、ComfyUIを使用中に遭遇する「CUDA error: no kernel image is available for execution on the device」エラーについて説明します。特に `CLIPTextEncode` ノードで発生することが多いです。

## 原因

このエラーは主に以下の理由で発生します：

- **NVIDIA GPU がサポートする CUDA カーネルが存在しない**
- **Python 環境やライブラリのバージョンと非互換性**

特に、CUDA の設定や、使用している PyTorch バージョンが GPU に適切に対応していない場合に発生します。

## 解決策

1. **CUDA 環境を確認する**:
    - `nvidia-smi` コマンドでGPUの状態を確認。
    - CUDA バージョンと PyTorch のバージョンが一致しているかチェックする。

2. **PyTorch の再インストール**:
    - 以下のコマンドで適切な PyTorch をインストールします。
    
      ```bash
      pip uninstall torch torchvision torchaudio --yes
      pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
      ```
      
      注意：`cu118` は CUDA 11.8 のバージョン番号です。自分の GPU 環境に合わせて適切な番号を入力してください。

3. **ComfyUI の再インストール**:
    - ComfyUI を完全にアンインストールし、再度インストールします。
    
      ```bash
      git clone https://github.com/comfyanonymous/ComfyUI.git
      cd ComfyUI
      pip install -r requirements.txt
      python setup.py build_ext --inplace
      ```

4. **カスタムノードの影響を確認する**:
    - カスタムノードが問題を引き起こしている可能性があるため、一度すべてのカスタムノードを無効にして動作を確認します。
    - 必要に応じて [ComfyUI公式ドキュメント](https://docs.comfy.org/troubleshooting/custom-node-issues#step-1%3A-test-with-all-custom-nodes-disabled) を参照してください。

## まとめ

`CUDA error: no kernel image is available for execution on the device` エラーは、CUDA環境やPyTorchのバージョンがGPUに適切に対応していない場合に発生します。これを解決するには、それぞれを最新かつ互換性のある状態に保つ必要があります。

以上の手順を試みても問題が解決しない場合は、具体的なエラーログを含めて ComfyUI のサポートコミュニティへ投稿してください。