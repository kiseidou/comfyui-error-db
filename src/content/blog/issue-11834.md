---
title: "【ComfyUI】fix double load by setting ModelPatcher correctly"
description: "ComfyUIのエラー 'fix double load by setting ModelPatcher correctly' の解決策まとめ。Python環境やカスタムノードの不具合を直す方法。"
pubDate: "2026-01-13"
---

## エラーの概要
モデル読み込み後にサンプラーノードを使用した際、GPU上にモデルが二重にロードされ、メモリ使用量が増加するエラーが発生します。

## 原因
unetloaderを用いてGPU上でモデルをロードし（`--gpu-only`で）、その後サンプラーノードを使用すると、サンプラーノードは追加のコピーを強制的にロードしようとします。これによりメモリ使用量が二重に増加する問題があります。

## 解決策
このエラーを解決するには、ModelPatcherの設定を適切に行う必要があります。

1. **カスタムノードの作成または編集**:
   - `load_checkpoint.py`ファイルを開き、次の行を追加または修正します。
     ```python
     from comfy.model_patching import ModelLoaderPatch, load_checkpoint_guess_config
     ```
2. **ModelPatcher設定**:
   - 以下のようなコードを使用して、ModelPatcherのインスタンスを作成し、モデルロード時にパッチを適用します。
     ```python
     model_loader_patch = ModelLoaderPatch()
     load_checkpoint_guess_config.patch(model_loader_patch)
     ```

以上の手順を経て、`fix double load by setting ModelPatcher correctly`エラーが修正され、二重にロードされる問題が解決されます。

## まとめ
モデル読み込み時に二重ロードが発生する問題は、ModelPatcherの正しい設定によって解消できます。Pythonファイルの一部を編集することで簡単に解決できるため、ユーザーはこの方法でエラーを修正することをお勧めします。